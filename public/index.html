<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta name="renderer" content="webkit" />
  <!--主要是强制让文档的宽度与设备宽度保持1:1，最大宽度1.0，禁止屏幕缩放。-->
  <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport" />
  <!--这个也是iphone私有标签，允许全屏浏览。-->
  <meta content="yes" name="apple-mobile-web-app-capable" />
  <!--iphone的私有标签，iphone顶端状态条的样式。-->
  <meta content="black" name="apple-mobile-web-app-status-bar-style" />
  <!--禁止数字自动识别为电话号码，这个比较有用，因为一串数字在iphone上会显示成蓝色，样式加成别的颜色也是不生效的。-->
  <meta content="telephone=no" name="format-detection" />
  <!--禁止email识别-->
  <meta content="email=no" name="format-detection" />
  <title>Bos3d viewer UI example</title>
  <%= htmlWebpackPlugin.tags.headTags %>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        position: fixed;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      #viewport{
        width: 100%;
        height: 100%;
      }
    </style>
</head>

<body>
  <div id="viewport" class="viewport"></div>
  <script type="application/javascript" src="https://bos3d.bimwinner.com/static/latest/BOS3D.min.js"></script>

  <%= htmlWebpackPlugin.tags.bodyTags %>
    <script>
      document.body.onload = function () {
        const BOS3D = window.BOS3D;

        // 生产环境
         const option = {host: "//bos3d.bimwinner.com", viewport: "viewport"};
        const viewer3D = new BOS3D.Viewer(option);
        BOS3D.GlobalData.usePack = true
        window.bos3dui = new BOS3DUI({
          viewer3D: viewer3D,
          BOS3D: BOS3D,
          // 正序配置：{layer: 3, order:true},只显示从1层（根节点）到第3层的节点统计；倒序配置：{layer: 1, order: false}，只显示从第1层（每个分支的叶子节点为第1层）到最顶层的节点数量统计
          // treeNodeStatistic: {layer: 2, order: true},
          // offline: true,
          funcOption: {
            // fit: false,
            // reset: false,
            // undo: false,
            // reset:false,
            // roam: false,
            // pickByRect: false,
            // hide: false,
            // isolate: false,
            // section: false,
            // wireFrame: false,
            // scatter: false,
            // changeCptColor: false,
            // fullScreen: false,
            // changeBgColor: false,
            // cptInfo: false,
            // cptsearch: false,
            // infoTree: false,
            // measure: false,
            // mark: false,
            // snapshot: false,
            // annotation: false,
            // moreMenu: false
          },
          //  自定义菜单功能传参
          // customMenu: [
          //   {
          //     label: "隐藏",
          //     disable: true,
          //     func: null,
          //     aka: "我就试试",
          //     children: null,
          //   },
          //   {
          //     label: "聚焦",
          //     disable: false,
          //     func: null,
          //     aka: null,
          //     children: null,
          //   },
          //   {
          //     label: "属性信息", // 原来的名称
          //     disable: false, // 是否禁用
          //     func: null, // 自定义功能 系统默认有的功能不能覆盖
          //     aka: null, // 别名
          //     children: null, // 子菜单
          //   },
          //   {
          //     label: "更多",
          //     disable: false,
          //     func: null,
          //     aka: null,
          //     children: [
          //       {
          //         label: "其他构件半透明",
          //         disable: false,
          //         func: null,
          //         aka: null,
          //         children: null,
          //       },
          //       {
          //         label: "相同类型构件",
          //         disable: false,
          //         func: null,
          //         aka: null,
          //         children: null,
          //       },
          //       {
          //         label: "所属部件/族",
          //         disable: false,
          //         func: null,
          //         aka: null,
          //         children: null,
          //       },
          //     ],
          //   },
          //   {
          //     label: "显示所有对象",
          //     disable: false,
          //     func: null,
          //     aka: null,
          //     children: null,
          //   },
          // ],
        });


        viewer3D.addView(
          "M1631601457559",
          "h0c9677bc2d049a6ab45532d5f9bf0fe",
          "",
          "1c9c5aa09fae44a7b93db07a1f33eeb5"
        );
        window.viewer3D = viewer3D;
        // 添加坐标轴
        const scene = viewer3D.getRootScene();
        window.axes = new BOS3D.THREE.AxisHelper(100000); // 10000 是坐标轴的长度...
        scene.add(window.axes);
        viewer3D.render();

      };
    </script>
</body>

</html>
